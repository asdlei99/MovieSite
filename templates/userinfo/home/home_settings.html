{% extends 'userinfo/home/home_base.html' %}
{% block title %}账号设置 - 比格电影{% endblock %} 
{% block meta_own %}{% endblock %}
  {% block home_css_own %}
<link href="/static/css/plugs/fineuploader/fine-uploader-gallery.css" rel="stylesheet">
<!-- <script src="/static/js/plugs/fineuploader/fine-uploader.js"></script> -->
<script src="//cdn.bootcss.com/file-uploader/5.11.8/all.fine-uploader/all.fine-uploader.min.js"></script>
  <script type="text/template" id="qq-template-gallery">
        <div class="qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text="拖动图片到这里">
            <div class="progress qq-total-progress-bar-container-selector qq-total-progress-bar-container">
                <div class="progress-bar progress-bar-info progress-bar-striped active qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ></div>
            </div>
            <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>
                <span class="qq-upload-drop-area-text-selector"></span>
            </div>
            <div class="btn qq-upload-button-selector qq-upload-button">
                <div><big><i class="fa fa-plus"></i></big></div>
            </div>
			<button type="button" id="trigger-upload" class="btn btn-primary btn-sm">
                开始上传
            </button>
            <span class="qq-drop-processing-selector qq-drop-processing">
                <span>处理拖动图片中...</span>
                <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
            </span>
            <ul class="qq-upload-list-selector qq-upload-list" role="region" aria-live="polite" aria-relevant="additions removals">
                <li>
                    <span role="status" class="qq-upload-status-text-selector qq-upload-status-text"></span>
                    <div class="progress qq-progress-bar-container-selector qq-progress-bar-container">
                        <div class="progress-bar progress-bar-info progress-bar-striped active qq-progress-bar-selector qq-progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
                    <div class="qq-thumbnail-wrapper">
                        <img class="qq-thumbnail-selector" qq-max-size="120" qq-server-scale>
                    </div>
                    <button type="button" class="qq-upload-cancel-selector qq-upload-cancel">X</button>
                    <button type="button" class="qq-upload-retry-selector qq-upload-retry alert alert-warning">
                        <span class="qq-btn qq-retry-icon" aria-label="重试"></span>重试
                    </button>

                    <div class="qq-file-info">
                        <div class="qq-file-name">
                            <span class="qq-upload-file-selector qq-upload-file"></span>
                            
                        </div>
                        
                        <span class="qq-upload-size-selector qq-upload-size"></span>
                        <button type="button" class="qq-btn qq-upload-delete-selector qq-upload-delete">
                            <span class="qq-btn qq-delete-icon" aria-label="删除"></span>
                        </button>
                        <button type="button" class="qq-btn qq-upload-pause-selector qq-upload-pause">
                            <span class="qq-btn qq-pause-icon" aria-label="暂停"></span>
                        </button>
                        <button type="button" class="qq-btn qq-upload-continue-selector qq-upload-continue">
                            <span class="qq-btn qq-continue-icon" aria-label="继续"></span>
                        </button>
                    </div>
                </li>
            </ul>

            <dialog class="qq-alert-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">Close</button>
                </div>
            </dialog>

            <dialog class="qq-confirm-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">No</button>
                    <button type="button" class="qq-ok-button-selector">Yes</button>
                </div>
            </dialog>

            <dialog class="qq-prompt-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <input type="text">
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">Cancel</button>
                    <button type="button" class="qq-ok-button-selector">Ok</button>
                </div>
            </dialog>
        </div>
</script>
{% endblock %}
      {% block left_menu %}
      <div class="info-block mb-30 list-group list-menu">
        <a href="/user/home/" class="list-group-item">
          <i class="fa fa-fw fa-user mr-10"></i>
          <span class="badge"><i class="fa fa-angle-right"></i></span>个人中心
        </a>
        <a href="/user/home/notification/" class="list-group-item">
          <i class="fa fa-fw fa-bell mr-10"></i>
          <span class="badge"><i class="fa fa-angle-right"></i></span>通知提醒
        </a>
        <a href="/user/home/messages/" class="list-group-item">
          <i class="fa fa-fw fa-envelope mr-10"></i>
          <span class="badge"><i class="fa fa-angle-right"></i></span>我的私信
        </a>
        <a href="/user/home/settings/" class="list-group-item active">
          <i class="fa fa-fw fa-gear mr-10"></i>
          <span class="badge"><i class="fa fa-angle-right"></i></span>账号设置
         </a>
      </div> <!-- left-menu -->
      {% endblock %}
      {% block middle_content %}
          <ul class="list-group media-list" id="settings">
            <li class="list-group-item media p-20" id="avatar-wrap">
              <h5><i class="fa fa-user-circle-o mr-5"></i>头像设置</h5>
              <div class="media-body hidden">
			    <div class="imageBox">
                  <div class="thumbBox"></div>
                  <div class="spinner" style="display:none;">Loading...</div>
                </div>
                <div class="action">
                  <!-- <input type="file" id="file" style="float:left; width: 250px"> -->
                  <div class="avatar-upload-btn">
    			    选择图片 <i class="fa fa-folder-open-o"></i>
    				<input class="avatar-upload-input" id="file" title="选择图片" type="file">
				  </div>
				  <div class="btn-group btn-group-sm">
				    
                    <button class="btn btn-default btn-sm" id="btnZoomIn" title="放大"><i class="fa fa-plus"></i></button>
                    <button class="btn btn-default btn-sm" id="btnZoomOut" title="缩小"><i class="fa fa-minus"></i></button>
                    <button class="btn btn-primary btn-sm" id="btnCrop" >确认</button>
				  </div>
                  
                </div>
              </div>
              <div class="media-right" id="avatar-preview">
                <p>当前头像&nbsp; · <a role="button" id="renew-avatar">修改</a></p>
                <img class="media-object img-thumbnail avatar-l" src="{{user_info.thumb_l}}" role="button">
              </div>
            </li>
            <li class="list-group-item media p-20" id="profile-wrap">
              <h5><i class="fa fa-edit mr-5"></i>个人资料</h5>
              <div class="media-body" style="padding-left: 10px;">
                <table class="table table-striped">
                  <tbody>
                    <tr>
                      <td>账号：</td>
                      <td>{{user_info.email}}</td>
                    </tr>
                    <tr>
                      <td>QID：</td>
                      <td>{{user_info.id}}</td>
                    </tr>
                    <tr>
                      <td>昵称：</td>
                      <td>{{user_info.username}}</td>
                    </tr>
                    <tr>
                      <td>性别：</td>
                      <td>
                        <label class="radio radio-inline" for="gender-radios1">
                          <input class="custom-radio" type="radio" data-toggle="radio" name="gender-radios" id="gender-radios1" required {% if not user_info.gender %}checked{% endif %}>男
                        </label>&nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="radio radio-inline" for="gender-radios2">
                          <input class="custom-radio" type="radio" data-toggle="radio" name="gender-radios" id="gender-radios2" required {% if user_info.gender %}checked{% endif %}>女
                        </label>
                      </td>
                    </tr>
                    <tr>
                      <td><label for="sign-input">签名：</label></td>
                      <td><input class="form-control flat mr-20" id="sign-input" value="{{user_info.mysign}}" data-tag="sign" title="点击编辑" maxlength="32"><i class="fa fa-pencil text-lighter" role="button"></i></td>
                    </tr>
                    <tr>
                      <td>注册时间：</td>
                      <td>{{user_info.create_date|date:"Y-m-d"}}</td>
                    </tr>
                    <tr>
                      <td>居住地：</td>
                      <td><input class="form-control flat mr-20" id="location-input" value="{{user_info.location}}" data-tag="location" title="点击编辑" maxlength="32"><i class="fa fa-pencil text-lighter" role="button"></i></td>
                    </tr>
                    <tr>
                      <td><label for="birthday">生日：</label></td>
                      <td><input class="form-control flat mr-20" id="birthday-input" type="date" value="{{user_info.birthday|date:'Y-m-d'}}" data-tag="birthday"><i class="fa fa-pencil text-lighter" role="button"></i></td>
                    </tr>
                  </tbody>
                </table>

              </div>
              
            </li>
            
            <li class="list-group-item media p-20" id="habit-wrap">
              <h5><i class="fa fa-eye mr-5"></i>偏好设置</h5>
              <div style="padding-left: 10px;">
                 
                 <table class="table table-striped">
                   <tr>
                     <td>接收新消息通知</td>
                     <td>
                       <div class="switch">
                         <input type="checkbox" {% if user_info.h_recvpush %}checked{% endif %} data-toggle="switch" data-tag="h_recvpush" id="habit-switch-notice" data-on-text="ON" data-off-text="OFF">
                       </div>
                     </td>
                   </tr>
                   <tr>
                     <td>允许别人关注我</td>
                     <td>
                       <div class="switch">
                         <input type="checkbox" {% if user_info.h_focusme %}checked{% endif %} data-toggle="switch" data-tag="h_focusme" id="habit-switch-focus" data-on-text="ON" data-off-text="OFF">
                       </div>
                     </td>
                   </tr>
                   <tr>
                     <td>允许查看我的收藏</td>
                     <td>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycollect-radio" data-toggle="radio" data-tag="h_mycollect" data-new-val="1" data-radiocheck-toggle="radio" {% if user_info.h_mycollect == 1 %}checked{% endif %} required>所有人
              		   </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycollect-radio" data-toggle="radio" data-tag="h_mycollect" data-new-val="2" data-radiocheck-toggle="radio" {% if user_info.h_mycollect == 2 %}checked{% endif %} required>我关注的人
                       </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycollect-radio" data-toggle="radio" data-tag="h_mycollect" data-new-val="0" data-radiocheck-toggle="radio" {% if user_info.h_mycollect == 0 %}checked{% endif %} required>仅自己
                       </label>
                     </td>
                   </tr>
                   <tr>
                     <td>允许查看我的说说</td>
                     <td>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_myspeak-radio" data-toggle="radio" data-tag="h_myspeak" data-new-val="1" data-radiocheck-toggle="radio" {% if user_info.h_myspeak == 1 %}checked{% endif %} required>所有人
              		   </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_myspeak-radio" data-toggle="radio" data-tag="h_myspeak" data-new-val="2" data-radiocheck-toggle="radio" {% if user_info.h_myspeak == 2 %}checked{% endif %} required>我关注的人
                       </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_myspeak-radio" data-toggle="radio" data-tag="h_myspeak" data-new-val="0" data-radiocheck-toggle="radio" {% if user_info.h_myspeak == 0 %}checked{% endif %} required>仅自己
                       </label>
                     </td>
                   </tr>
                   <tr>
                     <td>允许查看我的评论</td>
                     <td>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycomment-radio" data-toggle="radio" data-tag="h_mycomment" data-new-val="1" data-radiocheck-toggle="radio" {% if user_info.h_mycomment == 1 %}checked{% endif %} required>所有人
              		   </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycomment-radio" data-toggle="radio" data-tag="h_mycomment" data-new-val="2" data-radiocheck-toggle="radio" {% if user_info.h_mycomment == 2 %}checked{% endif %} required>我关注的人
                       </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mycomment-radio" data-toggle="radio" data-tag="h_mycomment" data-new-val="0" data-radiocheck-toggle="radio" {% if user_info.h_mycomment == 0 %}checked{% endif %} required>我关注的人
                       </label>
                     </td>
                   </tr>
                   <tr>
                     <td>允许查看我的帖子</td>
                     <td>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mypost-radio" data-toggle="radio" data-tag="h_mypost" data-new-val="1" data-radiocheck-toggle="radio" {% if user_info.h_mypost == 1 %}checked{% endif %} required>所有人
              		   </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mypost-radio" data-toggle="radio" data-tag="h_mypost" data-new-val="2" data-radiocheck-toggle="radio" {% if user_info.h_mypost == 2 %}checked{% endif %} required>我关注的人
                       </label>
                       <label class="radio radio-inline">
                         <input class="custom-radio" type="radio" name="h_mypost-radio" data-toggle="radio" data-tag="h_mypost" data-new-val="0" data-radiocheck-toggle="radio" {% if user_info.h_mypost == 0 %}checked{% endif %} required>我关注的人
                       </label>
                     </td>
                   </tr>
                 </table>
              </div>
            </li>
            
            <li class="list-group-item media p-20" id="habit-wrap">
              <h5><i class="fa fa-picture-o mr-5"></i>背景设置</h5>
              <div id="fine-uploader-gallery"></div>
            </li>
            
			            <!-- <span class="alert alert-danger"></span> -->
          </ul>
		  {% endblock %}

{% block js_own %}
  {% block home_js_own %}
  <script src="/static/js/userinfo/home/settings.js" type="text/javascript"></script>
  {% endblock %}
{% endblock %}
